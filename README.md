# 刷屏检测系统可视化演示

这是一个用于演示刷屏检测算法的可视化系统。通过Web界面，您可以实时看到消息是如何被处理和分析的，以及系统如何检测刷屏行为。

## 功能特点

- 实时消息处理与刷屏检测
- 多种预设演示场景
- 检测器状态实时可视化
- 支持多用户交互
- 美观直观的用户界面

## 系统需求

- Python 3.6+
- Flask
- 现代Web浏览器（Chrome、Firefox、Edge等）

## 安装依赖

```bash
pip install flask colorlog
```

## 运行方法

方法1：使用启动脚本（推荐）

```bash
cd 刷屏检测
python run.py
```

方法2：直接运行Flask应用

```bash
cd 刷屏检测
python app.py
```

运行后，应用将在 http://localhost:5000 上启动，并会自动在默认浏览器中打开。

## 使用说明

### 预设演示场景

- **正常聊天**：展示正常的群聊对话，不会触发刷屏检测
- **刷屏演示**：展示典型的刷屏行为，会触发刷屏检测
- **正常到刷屏**：展示从正常聊天突然变成刷屏的情景
- **多用户聊天**：展示多个用户交替发言的场景

### 手动测试

1. 从下拉菜单选择用户ID
2. 在输入框中输入消息
3. 点击"发送"按钮或按Enter键发送消息
4. 观察检测器状态变化

### 检测器状态说明

- **时间窗口**：检测的时间范围（秒）
- **消息阈值**：触发检测的最小消息数量
- **相似度阈值**：判定为刷屏的最小相似度
- **消息队列**：当前存储的消息总数
- **窗口内消息**：时间窗口内的消息数量
- **进度条**：消息数量接近阈值的程度
  - 蓝色：安全
  - 黄色：接近阈值
  - 红色：濒临触发

## 系统架构

- **前端**：HTML、CSS、JavaScript
- **后端**：Flask、Python
- **检测算法**：基于时间窗口和相似度分析

## 如何定制

1. 修改 `main.py` 中的检测算法和参数
2. 修改 `app.py` 中的处理逻辑
3. 修改 `templates/index.html` 中的界面设计 